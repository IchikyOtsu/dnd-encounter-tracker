import { createClient } from '@libsql/client';
import dotenv from 'dotenv';

dotenv.config({ path: '.env.local' });

const db = createClient({
  url: process.env.TURSO_DATABASE_URL,
  authToken: process.env.TURSO_AUTH_TOKEN,
});

async function addSpellsTable() {
  try {
    // Créer la table spells
    await db.execute(`
      CREATE TABLE IF NOT EXISTS spells (
        id TEXT PRIMARY KEY,
        name TEXT NOT NULL,
        level INTEGER NOT NULL,
        school TEXT NOT NULL,
        spell_lists TEXT NOT NULL,
        casting_time TEXT NOT NULL,
        range TEXT NOT NULL,
        components TEXT NOT NULL,
        duration TEXT NOT NULL,
        description TEXT NOT NULL,
        ritual INTEGER DEFAULT 0,
        concentration INTEGER DEFAULT 0,
        created_at INTEGER DEFAULT (unixepoch())
      )
    `);

    console.log('✅ Table spells créée avec succès');

    // Insérer les cantrips
    const cantrips = [
      {
        name: 'Acid Splash',
        level: 0,
        school: 'Evocation',
        spellLists: 'Artificier, Ensorceleur, Magicien',
        castingTime: 'Action',
        range: '18m',
        components: 'V, S',
        duration: 'Instantanée',
        description: 'Vous lancez une bulle d\'acide. Choisissez une ou deux créatures que vous pouvez voir dans la portée du sort. Si vous en choisissez deux, elles doivent se trouver à 1,50 mètre l\'une de l\'autre. Une cible doit réussir un jet de sauvegarde de Dextérité ou subir 1d6 dégâts d\'acide.\n\nLes dégâts du sort augmentent de 1d6 lorsque vous atteignez le niveau 5 (2d6), le niveau 11 (3d6) et le niveau 17 (4d6).',
      },
      {
        name: 'Blade Ward',
        level: 0,
        school: 'Abjuration',
        spellLists: 'Barde, Ensorceleur, Occultiste, Magicien',
        castingTime: 'Action',
        range: 'Personnelle',
        components: 'V, S',
        duration: 'C, jusqu\'à 1 minute',
        concentration: 1,
        description: 'Vous tendez votre main et tracez un signe de protection dans les airs. Jusqu\'à la fin de votre prochain tour, vous êtes résistant aux dégâts contondants, tranchants et perforants provenant d\'attaques d\'arme.',
      },
      {
        name: 'Chill Touch',
        level: 0,
        school: 'Necromancy',
        spellLists: 'Ensorceleur, Occultiste, Magicien',
        castingTime: 'Action',
        range: 'Contact',
        components: 'V, S',
        duration: 'Instantanée',
        description: 'Vous créez une main spectrale et squelettique dans l\'espace d\'une créature que vous pouvez voir dans la portée du sort. Effectuez une attaque de sort au corps à corps contre la créature. En cas de réussite, la cible subit 1d8 dégâts nécrotiques, et elle ne peut pas récupérer de points de vie jusqu\'au début de votre prochain tour. Pendant ce temps, la main s\'accroche à la cible.\n\nSi vous touchez une créature morte-vivante, elle a également un désavantage aux jets d\'attaque contre vous jusqu\'à la fin de votre prochain tour.\n\nLes dégâts du sort augmentent de 1d8 lorsque vous atteignez le niveau 5 (2d8), le niveau 11 (3d8) et le niveau 17 (4d8).',
      },
      {
        name: 'Dancing Lights',
        level: 0,
        school: 'Illusion',
        spellLists: 'Artificier, Barde, Ensorceleur, Magicien',
        castingTime: 'Action',
        range: '36m',
        components: 'V, S, M',
        duration: 'C, jusqu\'à 1 minute',
        concentration: 1,
        description: 'Vous créez jusqu\'à quatre lumières de la taille d\'une torche dans la portée, leur donnant l\'apparence de torches, de lanternes ou d\'orbes lumineux qui flottent dans les airs pendant la durée du sort. Vous pouvez également combiner les quatre lumières en une forme lumineuse vaguement humanoïde de taille M. Quelle que soit la forme choisie, chaque lumière émet une lumière faible dans un rayon de 3 mètres.\n\nÀ votre tour et par une action bonus, vous pouvez déplacer les lumières jusqu\'à 18 mètres vers un nouvel emplacement dans la portée. Chaque lumière doit se trouver à 6 mètres d\'une autre lumière créée par ce sort.',
      },
      {
        name: 'Druidcraft',
        level: 0,
        school: 'Transmutation',
        spellLists: 'Druide',
        castingTime: 'Action',
        range: '9m',
        components: 'V, S',
        duration: 'Instantanée',
        description: 'Murmurant aux esprits de la nature, vous créez l\'un des effets suivants dans la portée :\n\n* Vous créez un effet sensoriel inoffensif qui prédit le temps qu\'il fera à votre emplacement pour les 24 prochaines heures. L\'effet peut se manifester sous forme d\'orbe doré pour un ciel dégagé, de nuage pour de la pluie, de flocons de neige pour de la neige, etc.\n\n* Vous faites instantanément fleurir une fleur, éclore une gousse de graine ou bourgeonner un bourgeon de feuille.\n\n* Vous créez un effet sensoriel inoffensif instantané, comme des feuilles qui tombent, un coup de vent, le son d\'un petit animal ou la faible odeur de moufette. L\'effet doit tenir dans un cube de 1,50 mètre de côté.\n\n* Vous allumez ou éteignez instantanément une bougie, une torche ou un petit feu de camp.',
      },
      {
        name: 'Eldritch Blast',
        level: 0,
        school: 'Evocation',
        spellLists: 'Occultiste',
        castingTime: 'Action',
        range: '36m',
        components: 'V, S',
        duration: 'Instantanée',
        description: 'Un rayon d\'énergie crépitante jaillit vers une créature dans la portée. Effectuez une attaque de sort à distance contre la cible. En cas de réussite, la cible subit 1d10 dégâts de force.\n\nLe sort crée plus d\'un rayon lorsque vous atteignez des niveaux supérieurs : deux rayons au niveau 5, trois rayons au niveau 11 et quatre rayons au niveau 17. Vous pouvez diriger les rayons vers la même cible ou vers des cibles différentes. Effectuez un jet d\'attaque séparé pour chaque rayon.',
      },
      {
        name: 'Élémentalisme',
        level: 0,
        school: 'Transmutation',
        spellLists: 'Artificier, Druide, Ensorceleur, Magicien',
        castingTime: 'Action',
        range: '9m',
        components: 'V, S',
        duration: 'Instantanée',
        description: 'Vous exercez un contrôle sur les éléments, créant l\'un des effets suivants dans la portée du sort.\n\n* **Appel de l\'air**. Vous créez une brise assez forte pour faire onduler les tissus, soulever la poussière, agiter les feuilles et fermer des portes ou volets ouverts, dans un cube de 1,50 mètre de côté. Les portes et volets maintenus ouverts par quelqu\'un ou quelque chose ne sont pas affectés.\n\n* **Appel de la terre**. Vous créez un voile fin de poussière ou de sable qui recouvre les surfaces dans une zone de 1,50 mètre de côté, ou bien vous faites apparaître un mot écrit de votre main dans une étendue de terre ou de sable.\n\n* **Appel du feu**. Vous créez un mince nuage de braises inoffensives et de fumée colorée et parfumée dans un cube de 1,50 mètre de côté. Vous choisissez la couleur et l\'odeur. Les braises peuvent allumer des bougies, torches ou lampes dans la zone. L\'odeur de la fumée persiste pendant 1 minute.\n\n* **Appel de l\'eau**. Vous créez un jet de brume fraîche qui humidifie légèrement les créatures et objets dans un cube de 1,50 mètre de côté. Alternativement, vous créez l\'équivalent d\'une tasse d\'eau propre dans un récipient ouvert ou sur une surface. L\'eau s\'évapore au bout d\'1 minute.\n\n* **Sculpter l\'élément**. Vous façonnez de la terre, du sable, du feu, de la fumée, de la brume ou de l\'eau pouvant tenir dans un cube de 30 centimètres de côté, lui donnant une forme grossière (comme celle d\'une créature), pour une durée d\'1 heure.',
      },
      {
        name: 'Fire Bolt',
        level: 0,
        school: 'Evocation',
        spellLists: 'Artificier, Ensorceleur, Magicien',
        castingTime: 'Action',
        range: '36m',
        components: 'V, S',
        duration: 'Instantanée',
        description: 'Vous lancez un trait de feu sur une créature ou un objet dans la portée. Effectuez une attaque de sort à distance contre la cible. En cas de réussite, la cible subit 1d10 dégâts de feu. Un objet inflammable touché par ce sort s\'enflamme s\'il n\'est pas porté.\n\nLes dégâts du sort augmentent de 1d10 lorsque vous atteignez le niveau 5 (2d10), le niveau 11 (3d10) et le niveau 17 (4d10).',
      },
      {
        name: 'Friends',
        level: 0,
        school: 'Enchantment',
        spellLists: 'Barde, Ensorceleur, Occultiste, Magicien',
        castingTime: 'Action',
        range: '3m',
        components: 'S, M',
        duration: 'C, jusqu\'à 1 minute',
        concentration: 1,
        description: 'Pour la durée, vous avez un avantage aux jets de Charisme dirigés vers une créature de votre choix qui n\'est pas hostile envers vous. Lorsque le sort se termine, la créature réalise que vous avez utilisé la magie pour influencer son humeur et devient hostile envers vous. Une créature sujette à la violence peut vous attaquer. Une autre créature peut chercher à obtenir une autre forme de représailles (à la discrétion du MJ), selon la nature de votre interaction avec elle.',
      },
      {
        name: 'Guidance',
        level: 0,
        school: 'Divination',
        spellLists: 'Artificier, Clerc, Druide',
        castingTime: 'Action',
        range: 'Contact',
        components: 'V, S',
        duration: 'C, jusqu\'à 1 minute',
        concentration: 1,
        description: 'Vous touchez une créature consentante. Une fois avant la fin du sort, la cible peut lancer un d4 et ajouter le résultat à un jet de caractéristique de son choix. Elle peut lancer le dé avant ou après avoir effectué le jet de caractéristique. Le sort se termine alors.',
      },
      {
        name: 'Light',
        level: 0,
        school: 'Evocation',
        spellLists: 'Artificier, Barde, Clerc, Ensorceleur, Magicien',
        castingTime: 'Action',
        range: 'Contact',
        components: 'V, M',
        duration: '1 heure',
        description: 'Vous touchez un objet qui ne fait pas plus de 3 mètres dans chaque dimension. Jusqu\'à la fin du sort, l\'objet émet une lumière vive dans un rayon de 6 mètres et une lumière faible sur 6 mètres supplémentaires. La lumière peut être de la couleur que vous voulez. Couvrir complètement l\'objet avec quelque chose d\'opaque bloque la lumière. Le sort se termine si vous le lancez à nouveau ou si vous le révoquez par une action.\n\nSi vous ciblez un objet tenu ou porté par une créature hostile, cette créature doit réussir un jet de sauvegarde de Dextérité pour éviter le sort.',
      },
      {
        name: 'Mage Hand',
        level: 0,
        school: 'Conjuration',
        spellLists: 'Artificier, Barde, Ensorceleur, Occultiste, Magicien',
        castingTime: 'Action',
        range: '9m',
        components: 'V, S',
        duration: '1 minute',
        description: 'Une main spectrale flottante apparaît en un point que vous choisissez dans la portée. La main dure pour la durée du sort ou jusqu\'à ce que vous la révoquiez par une action. La main disparaît si elle se trouve à plus de 9 mètres de vous ou si vous relancez ce sort.\n\nVous pouvez utiliser votre action pour contrôler la main. Vous pouvez utiliser la main pour manipuler un objet, ouvrir une porte ou un récipient non verrouillé, ranger ou récupérer un objet dans un récipient ouvert, ou verser le contenu d\'une fiole. Vous pouvez déplacer la main jusqu\'à 9 mètres chaque fois que vous l\'utilisez.\n\nLa main ne peut pas attaquer, activer des objets magiques ou porter plus de 5 kg.',
      },
      {
        name: 'Mending',
        level: 0,
        school: 'Transmutation',
        spellLists: 'Barde, Clerc, Druide, Ensorceleur, Magicien',
        castingTime: '1 minute',
        range: 'Contact',
        components: 'V, S, M',
        duration: 'Instantanée',
        description: 'Ce sort répare une seule cassure ou déchirure dans un objet que vous touchez, comme un maillon de chaîne cassé, deux moitiés d\'une clé brisée, un manteau déchiré ou une outre de vin qui fuit. Tant que la cassure ou la déchirure ne fait pas plus de 30 centimètres dans chaque dimension, vous la réparez, ne laissant aucune trace du dommage précédent.\n\nCe sort peut réparer physiquement un objet magique ou un construct, mais il ne peut pas restaurer la magie dans de tels objets.',
      },
      {
        name: 'Message',
        level: 0,
        school: 'Transmutation',
        spellLists: 'Artificier, Barde, Druide, Ensorceleur, Magicien',
        castingTime: 'Action',
        range: '36m',
        components: 'S, M',
        duration: '1 round',
        description: 'Vous pointez du doigt vers une créature dans la portée et murmurez un message. La cible (et seulement la cible) entend le message et peut chuchotrer une réponse que vous seul pouvez entendre.\n\nVous pouvez lancer ce sort à travers des objets solides si vous êtes familier avec la cible et savez qu\'elle se trouve au-delà de la barrière. Le silence magique, 30 centimètres de pierre, 2,5 centimètres de métal commun, une fine feuille de plomb ou 90 centimètres de bois bloquent le sort. Le sort n\'a pas besoin de voyager en ligne droite et peut contourner les coins ou passer par des ouvertures.',
      },
      {
        name: 'Mind Sliver',
        level: 0,
        school: 'Enchantment',
        spellLists: 'Ensorceleur, Occultiste, Magicien',
        castingTime: 'Action',
        range: '18m',
        components: 'V',
        duration: '1 round',
        description: 'Vous projetez un éclat d\'énergie psychique vers une créature que vous pouvez voir dans la portée. La cible doit réussir un jet de sauvegarde d\'Intelligence ou subir 1d6 dégâts psychiques et soustraire 1d4 de son prochain jet de sauvegarde avant la fin de votre prochain tour.\n\nLes dégâts du sort augmentent de 1d6 lorsque vous atteignez le niveau 5 (2d6), le niveau 11 (3d6) et le niveau 17 (4d6).',
      },
      {
        name: 'Minor Illusion',
        level: 0,
        school: 'Illusion',
        spellLists: 'Barde, Ensorceleur, Occultiste, Magicien',
        castingTime: 'Action',
        range: '9m',
        components: 'S, M',
        duration: '1 minute',
        description: 'Vous créez un son ou une image d\'un objet dans la portée qui dure pour la durée. L\'illusion prend également fin si vous la révoquez par une action ou si vous lancez à nouveau ce sort.\n\nSi vous créez un son, son volume peut aller d\'un murmure à un cri. Il peut être votre voix, la voix de quelqu\'un d\'autre, le rugissement d\'un lion, un roulement de tambours ou tout autre son que vous choisissez. Le son continue sans interruption pendant la durée, ou vous pouvez faire des sons discrets à différents moments avant la fin du sort.\n\nSi vous créez une image d\'un objet (comme une chaise, des empreintes boueuses ou un petit coffre), il doit faire moins de 1,50 mètre de côté. L\'image ne peut pas créer de son, lumière, odeur ou autre effet sensoriel. L\'interaction physique avec l\'image révèle qu\'il s\'agit d\'une illusion, car les choses peuvent passer au travers.\n\nSi une créature utilise son action pour examiner le son ou l\'image, elle peut déterminer qu\'il s\'agit d\'une illusion avec un jet d\'Intelligence (Investigation) réussi contre votre DD de sauvegarde des sorts. Si une créature discerne l\'illusion pour ce qu\'elle est, l\'illusion devient ténue pour la créature.',
      },
      {
        name: 'Poison Spray',
        level: 0,
        school: 'Necromancy',
        spellLists: 'Artificier, Druide, Ensorceleur, Occultiste, Magicien',
        castingTime: 'Action',
        range: '3m',
        components: 'V, S',
        duration: 'Instantanée',
        description: 'Vous tendez votre main vers une créature que vous pouvez voir dans la portée et projetez une bouffée de gaz toxique de votre paume. La créature doit réussir un jet de sauvegarde de Constitution ou subir 1d12 dégâts de poison.\n\nLes dégâts du sort augmentent de 1d12 lorsque vous atteignez le niveau 5 (2d12), le niveau 11 (3d12) et le niveau 17 (4d12).',
      },
      {
        name: 'Prestidigitation',
        level: 0,
        school: 'Transmutation',
        spellLists: 'Artificier, Barde, Ensorceleur, Occultiste, Magicien',
        castingTime: 'Action',
        range: '3m',
        components: 'V, S',
        duration: 'Jusqu\'à 1 heure',
        description: 'Ce sort est un tour de magie mineur que les lanceurs de sorts novices utilisent pour s\'entraîner. Vous créez l\'un des effets magiques suivants dans la portée :\n\n* Vous créez un effet sensoriel inoffensif instantané, comme une pluie d\'étincelles, un souffle de vent, des notes de musique faibles ou une odeur étrange.\n\n* Vous allumez ou éteignez instantanément une bougie, une torche ou un petit feu de camp.\n\n* Vous nettoyez ou salissez instantanément un objet ne faisant pas plus de 30 centimètres cubes.\n\n* Vous refroidissez, réchauffez ou aromatisez jusqu\'à 30 centimètres cubes de matière non vivante pendant 1 heure.\n\n* Vous faites apparaître une couleur, une petite marque ou un symbole sur un objet ou une surface pendant 1 heure.\n\n* Vous créez un bibelot non magique ou une image illusoire qui peut tenir dans votre main et qui dure jusqu\'à la fin de votre prochain tour.\n\nSi vous lancez ce sort plusieurs fois, vous pouvez avoir jusqu\'à trois de ses effets non instantanés actifs à la fois, et vous pouvez révoquer un tel effet par une action.',
      },
      {
        name: 'Produce Flame',
        level: 0,
        school: 'Conjuration',
        spellLists: 'Druide',
        castingTime: 'Action bonus',
        range: 'Personnelle',
        components: 'V, S',
        duration: '10 minutes',
        description: 'Une flamme vacillante apparaît dans votre main et y reste pour la durée. La flamme ne vous blesse pas et ne blesse pas votre équipement. La flamme émet une lumière vive dans un rayon de 3 mètres et une lumière faible sur 3 mètres supplémentaires. Le sort se termine si vous le révoquez par une action ou si vous le relancez.\n\nVous pouvez également attaquer avec la flamme, bien que cela mette fin au sort. Lorsque vous lancez ce sort, ou par une action lors d\'un tour ultérieur, vous pouvez lancer la flamme sur une créature située à 18 mètres de vous. Effectuez une attaque de sort à distance. En cas de réussite, la cible subit 1d8 dégâts de feu.\n\nLes dégâts du sort augmentent de 1d8 lorsque vous atteignez le niveau 5 (2d8), le niveau 11 (3d8) et le niveau 17 (4d8).',
      },
      {
        name: 'Ray of Frost',
        level: 0,
        school: 'Evocation',
        spellLists: 'Artificier, Ensorceleur, Magicien',
        castingTime: 'Action',
        range: '18m',
        components: 'V, S',
        duration: 'Instantanée',
        description: 'Un rayon glacial de lumière bleu-blanc jaillit vers une créature dans la portée. Effectuez une attaque de sort à distance contre la cible. En cas de réussite, elle subit 1d8 dégâts de froid, et sa vitesse est réduite de 3 mètres jusqu\'au début de votre prochain tour.\n\nLes dégâts du sort augmentent de 1d8 lorsque vous atteignez le niveau 5 (2d8), le niveau 11 (3d8) et le niveau 17 (4d8).',
      },
      {
        name: 'Resistance',
        level: 0,
        school: 'Abjuration',
        spellLists: 'Artificier, Clerc, Druide',
        castingTime: 'Action',
        range: 'Contact',
        components: 'V, S',
        duration: 'C, jusqu\'à 1 minute',
        concentration: 1,
        description: 'Vous touchez une créature consentante. Une fois avant la fin du sort, la cible peut lancer un d4 et ajouter le résultat à un jet de sauvegarde de son choix. Elle peut lancer le dé avant ou après avoir effectué le jet de sauvegarde. Le sort se termine alors.',
      },
      {
        name: 'Sacred Flame',
        level: 0,
        school: 'Evocation',
        spellLists: 'Clerc',
        castingTime: 'Action',
        range: '18m',
        components: 'V, S',
        duration: 'Instantanée',
        description: 'Une lumière radieuse semblable à une flamme descend sur une créature que vous pouvez voir dans la portée. La cible doit réussir un jet de sauvegarde de Dextérité ou subir 1d8 dégâts radiants. La cible ne gagne aucun bénéfice de couverture pour ce jet de sauvegarde.\n\nLes dégâts du sort augmentent de 1d8 lorsque vous atteignez le niveau 5 (2d8), le niveau 11 (3d8) et le niveau 17 (4d8).',
      },
      {
        name: 'Shillelagh',
        level: 0,
        school: 'Transmutation',
        spellLists: 'Druide',
        castingTime: 'Action bonus',
        range: 'Personnelle',
        components: 'V, S, M',
        duration: '1 minute',
        description: 'Le bois d\'un gourdin ou d\'un bâton que vous tenez est imprégné du pouvoir de la nature. Pour la durée, vous pouvez utiliser votre caractéristique d\'incantation au lieu de la Force pour les jets d\'attaque et de dégâts des attaques au corps à corps avec cette arme, et le dé de dégâts de l\'arme devient un d8. L\'arme devient également magique, si elle ne l\'était pas déjà. Le sort se termine si vous le lancez à nouveau ou si vous lâchez l\'arme.',
      },
      {
        name: 'Shocking Grasp',
        level: 0,
        school: 'Evocation',
        spellLists: 'Artificier, Ensorceleur, Magicien',
        castingTime: 'Action',
        range: 'Contact',
        components: 'V, S',
        duration: 'Instantanée',
        description: 'La foudre jaillit de votre main pour délivrer un choc à une créature que vous essayez de toucher. Effectuez une attaque de sort au corps à corps contre la cible. Vous avez un avantage au jet d\'attaque si la cible porte une armure faite de métal. En cas de réussite, la cible subit 1d8 dégâts de foudre et elle ne peut pas effectuer de réactions jusqu\'au début de son prochain tour.\n\nLes dégâts du sort augmentent de 1d8 lorsque vous atteignez le niveau 5 (2d8), le niveau 11 (3d8) et le niveau 17 (4d8).',
      },
      {
        name: 'Sorcerous Burst',
        level: 0,
        school: 'Evocation',
        spellLists: 'Ensorceleur',
        castingTime: 'Action',
        range: '36m',
        components: 'V, S',
        duration: 'Instantanée',
        description: 'Vous lancez une mèche d\'énergie magique sur une créature ou un objet dans la portée. Effectuez une attaque de sort à distance contre la cible. En cas de réussite, la cible subit 1d8 dégâts d\'un type de votre choix : acide, froid, feu, foudre, poison, psychique ou tonnerre.\n\nSi vous obtenez un 8 sur un dé, vous pouvez lancer un dé supplémentaire et l\'ajouter aux dégâts. Lorsque vous lancez le dé supplémentaire, il peut également exploser si vous obtenez un 8, et ainsi de suite.\n\nLes dégâts du sort augmentent lorsque vous atteignez certains niveaux. Au niveau 5, les dégâts de base augmentent à 2d8. Au niveau 11, ils augmentent à 3d8. Au niveau 17, ils augmentent à 4d8.',
      },
      {
        name: 'Spare the Dying',
        level: 0,
        school: 'Necromancy',
        spellLists: 'Artificier, Clerc, Druide',
        castingTime: 'Action',
        range: '4,50m',
        components: 'V, S',
        duration: 'Instantanée',
        description: 'Vous touchez une créature vivante qui a 0 point de vie. La créature devient stable. Ce sort n\'a aucun effet sur les morts-vivants ou les constructs.',
      },
      {
        name: 'Starry Wisp',
        level: 0,
        school: 'Evocation',
        spellLists: 'Barde, Druide',
        castingTime: 'Action',
        range: '18m',
        components: 'V, S',
        duration: 'Instantanée',
        description: 'Vous lancez une volute de lumière astrale vers une créature dans la portée. Effectuez une attaque de sort à distance contre la cible. En cas de réussite, la cible subit 1d8 dégâts radiants et jusqu\'au début de votre prochain tour, la cible émet une lumière faible dans un rayon de 3 mètres et ne peut pas bénéficier d\'être invisible.\n\nLes dégâts du sort augmentent de 1d8 lorsque vous atteignez le niveau 5 (2d8), le niveau 11 (3d8) et le niveau 17 (4d8).',
      },
      {
        name: 'Thaumaturgy',
        level: 0,
        school: 'Transmutation',
        spellLists: 'Clerc',
        castingTime: 'Action',
        range: '9m',
        components: 'V',
        duration: 'Jusqu\'à 1 minute',
        description: 'Vous créez un effet surnaturel mineur dans la portée. Vous créez l\'un des effets magiques suivants dans la portée :\n\n* Votre voix résonne jusqu\'à trois fois plus fort que la normale pendant 1 minute.\n\n* Vous faites vaciller des flammes, s\'éclaircir, s\'assombrir ou changer de couleur pendant 1 minute.\n\n* Vous causez des tremblements inoffensifs du sol pendant 1 minute.\n\n* Vous créez un son instantané qui provient d\'un point de votre choix dans la portée, comme un roulement de tonnerre, le cri d\'un corbeau ou des murmures inquiétants.\n\n* Vous faites s\'ouvrir ou claquer instantanément une porte ou une fenêtre non verrouillée.\n\n* Vous modifiez l\'apparence de vos yeux pendant 1 minute.\n\nSi vous lancez ce sort plusieurs fois, vous pouvez avoir jusqu\'à trois de ses effets d\'une minute actifs à la fois, et vous pouvez révoquer un tel effet par une action.',
      },
      {
        name: 'Thorn Whip',
        level: 0,
        school: 'Transmutation',
        spellLists: 'Artificier, Druide',
        castingTime: 'Action',
        range: '9m',
        components: 'V, S, M',
        duration: 'Instantanée',
        description: 'Vous créez un fouet long et en forme de vigne couvert d\'épines qui frappe à votre commandement vers une créature dans la portée. Effectuez une attaque de sort au corps à corps contre la cible. Si l\'attaque touche, la créature subit 1d6 dégâts perforants, et si la créature est de Grande taille ou plus petite, vous la tirez jusqu\'à 3 mètres plus près de vous.\n\nLes dégâts du sort augmentent de 1d6 lorsque vous atteignez le niveau 5 (2d6), le niveau 11 (3d6) et le niveau 17 (4d6).',
      },
      {
        name: 'Thunderclap',
        level: 0,
        school: 'Evocation',
        spellLists: 'Artificier, Barde, Druide, Ensorceleur, Occultiste, Magicien',
        castingTime: 'Action',
        range: 'Personnelle',
        components: 'S',
        duration: 'Instantanée',
        description: 'Vous créez un coup de tonnerre qui peut être entendu jusqu\'à 30 mètres de distance. Chaque créature autre que vous dans un rayon de 1,50 mètre de vous doit effectuer un jet de sauvegarde de Constitution. En cas d\'échec, une créature subit 1d6 dégâts de tonnerre.\n\nLes dégâts du sort augmentent de 1d6 lorsque vous atteignez le niveau 5 (2d6), le niveau 11 (3d6) et le niveau 17 (4d6).',
      },
      {
        name: 'Toll the Dead',
        level: 0,
        school: 'Necromancy',
        spellLists: 'Clerc, Occultiste, Magicien',
        castingTime: 'Action',
        range: '18m',
        components: 'V, S',
        duration: 'Instantanée',
        description: 'Vous pointez du doigt une créature que vous pouvez voir dans la portée, et le son d\'une cloche qui sonne douloureusement résonne autour d\'elle. La cible doit réussir un jet de sauvegarde de Sagesse ou subir 1d8 dégâts nécrotiques. Si la cible manque des points de vie, elle subit à la place 1d12 dégâts nécrotiques.\n\nLes dégâts du sort augmentent d\'un dé lorsque vous atteignez le niveau 5 (2d8 ou 2d12), le niveau 11 (3d8 ou 3d12) et le niveau 17 (4d8 ou 4d12).',
      },
      {
        name: 'True Strike',
        level: 0,
        school: 'Divination',
        spellLists: 'Artificier, Barde, Ensorceleur, Occultiste, Magicien',
        castingTime: 'Action',
        range: 'Personnelle',
        components: 'S, M',
        duration: 'Instantanée',
        description: 'Guidé par un éclair de divination, vous lancez votre attaque avec une précision surnaturelle. Effectuez une attaque d\'arme au corps à corps contre une créature que vous pouvez voir dans un rayon de 1,50 mètre de vous. Si l\'attaque touche, elle inflige 1d6 dégâts radiants supplémentaires.\n\nÀ mesure que vous gagnez des niveaux, ce sort peut être utilisé avant des attaques plus puissantes. À partir du niveau 5, l\'attaque peut être effectuée avec une arme à distance dans un rayon de 9 mètres. À partir du niveau 11, les dégâts supplémentaires augmentent à 2d6.',
      },
      {
        name: 'Vicious Mockery',
        level: 0,
        school: 'Enchantment',
        spellLists: 'Barde',
        castingTime: 'Action',
        range: '18m',
        components: 'V',
        duration: 'Instantanée',
        description: 'Vous déchaînez un torrent d\'insultes imprégnées de subtiles enchantements vers une créature que vous pouvez voir dans la portée. Si la cible peut vous entendre (bien qu\'elle n\'ait pas besoin de vous comprendre), elle doit réussir un jet de sauvegarde de Sagesse ou subir 1d6 dégâts psychiques et avoir un désavantage au prochain jet d\'attaque qu\'elle effectue avant la fin de son prochain tour.\n\nLes dégâts du sort augmentent de 1d6 lorsque vous atteignez le niveau 5 (2d6), le niveau 11 (3d6) et le niveau 17 (4d6).',
      },
      {
        name: 'Word of Radiance',
        level: 0,
        school: 'Evocation',
        spellLists: 'Clerc',
        castingTime: 'Action',
        range: 'Personnelle',
        components: 'V, M',
        duration: 'Instantanée',
        description: 'Vous prononcez un mot divin, et une lumière brûlante émane de vous. Chaque créature de votre choix que vous pouvez voir dans un rayon de 1,50 mètre de vous doit réussir un jet de sauvegarde de Constitution ou subir 1d6 dégâts radiants.\n\nLes dégâts du sort augmentent de 1d6 lorsque vous atteignez le niveau 5 (2d6), le niveau 11 (3d6) et le niveau 17 (4d6).',
      },
    ];

    for (const spell of cantrips) {
      await db.execute({
        sql: `INSERT INTO spells (id, name, level, school, spell_lists, casting_time, range, components, duration, description, concentration, ritual) 
              VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)`,
        args: [
          crypto.randomUUID(),
          spell.name,
          spell.level,
          spell.school,
          spell.spellLists,
          spell.castingTime,
          spell.range,
          spell.components,
          spell.duration,
          spell.description,
          spell.concentration || 0,
          0
        ]
      });
    }

    console.log(`✅ ${cantrips.length} cantrips ajoutés avec succès`);

  } catch (error) {
    console.error('❌ Erreur:', error);
    process.exit(1);
  }
}

addSpellsTable();
